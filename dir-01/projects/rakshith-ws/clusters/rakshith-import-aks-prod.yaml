apiVersion: infra.k8smgmt.io/v3
kind: Cluster
metadata:
  name: rakshith-import-aks-prod
  project: rakshith-ws
spec:
  blueprintConfig:
    name: aks-bp-01
    version: v1
  cloudCredentials: azure
  config:
    kind: aksClusterConfig
    metadata:
      name: rakshith-import-aks-prod
    spec:
      managedCluster:
        apiVersion: "2022-07-01"
        identity:
          type: SystemAssigned
        location: centralindia
        properties:
          addonProfiles:
            azurePolicy:
              enabled: false
            omsAgent:
              config:
                logAnalyticsWorkspaceResourceID: /subscriptions/a2252eb2-7a25-432b-a5ec-e18eba6f26b1/resourcegroups/defaultresourcegroup-cin/providers/microsoft.operationalinsights/workspaces/defaultworkspace-a2252eb2-7a25-432b-a5ec-e18eba6f26b1-cin
              enabled: true
          apiServerAccessProfile:
            enablePrivateCluster: false
          dnsPrefix: rakshith-import-aks-prod-dns
          enableRBAC: true
          kubernetesVersion: 1.25.6
          networkProfile:
            dnsServiceIP: 10.0.0.10
            dockerBridgeCidr: 172.17.0.1/16
            loadBalancerSku: standard
            networkPlugin: kubenet
            networkPolicy: calico
            serviceCidr: 10.0.0.0/16
          nodeResourceGroup: MC_rakshith-demo-aks_rakshith-import-aks-prod_centralindia
        sku:
          name: Basic
          tier: Paid
        type: Microsoft.ContainerService/managedClusters
      nodePools:
      - apiVersion: "2022-07-01"
        location: centralindia
        name: agentpool
        properties:
          availabilityZones:
          - "1"
          - "2"
          - "3"
          count: 1
          enableAutoScaling: true
          maxCount: 5
          maxPods: 110
          minCount: 1
          mode: System
          orchestratorVersion: 1.25.6
          osDiskSizeGB: 128
          osType: Linux
          type: VirtualMachineScaleSets
          vmSize: Standard_DS2_v2
        type: Microsoft.ContainerService/managedClusters/agentPools
      resourceGroupName: rakshith-demo-aks
  proxyConfig: {}
  type: aks
